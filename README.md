# Assembly Programs Collection

Набор программ на ассемблере, демонстрирующих работу с битовыми операциями и матрицами.

## Структура

```
├── task1/              # Реверс битов
│   ├── task1.asm      # Intel синтаксис
│   ├── task1_att.s    # AT&T синтаксис
│   └── Makefile
│
└── task2/              # Поворот матрицы
    ├── main.c
    ├── rotate.asm     # Intel синтаксис
    ├── rotate_att.s   # AT&T синтаксис
    └── Makefile
```

## Task 1: Bit Reversal

Программа разворачивает биты 32-битного числа в обратном порядке.

### Принцип работы
Алгоритм использует циклический сдвиг битов: на каждой итерации младший бит исходного числа извлекается и добавляется в старший разряд результата. Процесс повторяется 32 раза.

### Пример
```
Вход:  0xFFFF0000 (11111111111111110000000000000000)
Выход: 0x0000FFFF (00000000000000001111111111111111)
```

### Особенности
- Вывод результата через системные вызовы без использования библиотечных функций
- Собственная реализация преобразования числа в шестнадцатеричную строку
- Поддержка двух синтаксисов ассемблера (Intel и AT&T)

### Сборка и запуск
```bash
cd task1
make all        # сборка обеих версий
make run        # Intel версия
make run-att    # AT&T версия
make clean
```

## Task 2: Matrix Rotation

Программа поворачивает квадратную матрицу на 90 градусов по часовой стрелке.

### Принцип работы

Алгоритм преобразует матрицу по формуле `result[i][j] = source[size-1-j][i]`. Инвертированный i-й столбец исходной матрицы становится i-й строкой результата. Используется временный буфер для хранения промежуточного результата.

### Пример

```
Исходная:      Результат:
1  2  3        7  4  1
4  5  6   =>   8  5  2
7  8  9        9  6  3
```

### Реализация

Программа состоит из двух модулей:

- **main.c** - генерация случайной матрицы, обработка параметров командной строки, вывод результатов
- **rotate.asm / rotate_att.s** - алгоритм поворота матрицы на ассемблере

### Использование

```bash
./program <размер> [мин] [макс]
```

Примеры:

```bash
./program 5         # 5x5, значения от -1000 до 1000
./program 3 0 10    # 3x3, значения от 0 до 10
./program 4 -50 50  # 4x4, значения от -50 до 50
```

### Сборка и запуск

```bash
cd task2
make all        # сборка
make run        # Intel версия
make run-att    # AT&T версия
make clean
```

## Технические детали

### Поддержка двух синтаксисов

Все программы реализованы в двух вариантах:

- Intel синтаксис (NASM)
- AT&T синтаксис (GNU Assembler)

### Основные различия синтаксисов

| Элемент | Intel | AT&T |
|---------|-------|------|
| Порядок операндов | `mov dest, src` | `movl src, dest` |
| Регистры и константы | `eax`, `5` | `%eax`, `$5` |
| Размер операции | без суффикса | `l/w/b` |
| Адресация | `[ebp+8]` | `8(%ebp)` |

## Требования

- NASM
- GNU Assembler (as)
- GCC с поддержкой 32-бит (gcc-multilib)
- GNU ld

### Установка

```bash
sudo apt-get install nasm gcc-multilib binutils
```
